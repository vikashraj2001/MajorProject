CREATE TABLE pg (
    pg_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    address TEXT NOT NULL,
    owner_contact TEXT NOT NULL,
    price INT NOT NULL,
    gender_requirement VARCHAR(3) NOT NULL
);

CREATE TABLE college (
    college_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    college_name TEXT NOT NULL,
    college_address TEXT NOT NULL
);

CREATE TABLE college_pg (
    college_id INT REFERENCES college(college_id) ON UPDATE CASCADE ON DELETE CASCADE,
    pg_id INT REFERENCES pg(pg_id) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT college_pg_key PRIMARY KEY (college_id, pg_id)
);

INSERT INTO  pg (address, owner_contact, price, gender_requirement) VALUES('mohali', '8976787878', 45000, 'm');
INSERT INTO  pg (address, owner_contact, price, gender_requirement) VALUES('kharar', '8976745678', 4000, 'f');
INSERT INTO  pg (address, owner_contact, price, gender_requirement) VALUES('gahuran', '8934545678', 7000, 'nil');
INSERT INTO  college (college_name, college_address) VALUES('Punjab University', 'Chandigarh');
INSERT INTO college_pg VALUES(1, 1);
INSERT INTO college_pg VALUES(1, 3);
INSERT INTO college_pg VALUES(6, 2);

SELECT * FROM pg WHERE pg.pg_id = (SELECT pg_id FROM college_pg WHERE college_id = 1);
SELECT * FROM pg INNER JOIN (SELECT pg_id FROM college_pg WHERE college_id = 1) AS pgs ON pg.pg_id = pgs.pg_id;